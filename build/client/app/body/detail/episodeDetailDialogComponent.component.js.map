{"version":3,"sources":["../../source/client/app/body/detail/episodeDetailDialogComponent.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA6C,eAAe,CAAC,CAAA;AAC7D,gCAA6C,mBAAmB,CAAC,CAAA;AACjE,IAAY,CAAC,WAAgC,QAAQ,CAAC,CAAA;AAQtD;IAQE,sCAAoB,cAA8B;QAA9B,mBAAc,GAAd,cAAc,CAAgB;QAChD,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;QACjB,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC;IACvB,CAAC;IACD,2CAAI,GAAJ;QAAA,iBA6DC;QA5DC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,SAAS,CAC1G,UAAA,IAAI;YACA,IAAI,KAAK,GAAG,EAAE,CAAC;YACf,EAAE,CAAA,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA,CAAC;gBACb,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,UAAC,OAAO,EAAE,KAAK;oBACvC,EAAE,CAAA,CAAC,KAAK,CAAC,MAAM,KAAG,CAAC,CAAC,CAAA,CAAC;wBACnB,KAAK,CAAC,IAAI,CAAC;4BACT,KAAK,EAAC,OAAO,CAAC,KAAK;4BACnB,IAAI,EAAC;gCACH;oCACA,KAAK,EAAC,OAAO,CAAC,KAAK;oCACnB,WAAW,EAAC,OAAO,CAAC,WAAW;oCAC/B,IAAI,EAAC,OAAO,CAAC,IAAI;oCACjB,KAAK,EAAC,OAAO,CAAC,KAAK;oCACnB,YAAY,EAAC,OAAO,CAAC,YAAY;oCACjC,IAAI,EAAC,OAAO,CAAC,IAAI;oCACjB,OAAO,EAAC,OAAO,CAAC,OAAO;iCACtB;6BACF;yBACF,CAAC,CAAC;oBACL,CAAC;oBAAA,IAAI,CAAA,CAAC;wBACJ,IAAI,GAAG,GAAG,CAAC,CAAC,SAAS,CAAC,KAAK,EAAE,EAAC,OAAO,EAAC,OAAO,CAAC,KAAK,EAAC,CAAC,CAAC;wBACtD,EAAE,CAAA,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,CAAA,CAAC;4BACT,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gCACnB,KAAK,EAAC,OAAO,CAAC,KAAK;gCACnB,WAAW,EAAC,OAAO,CAAC,WAAW;gCAC/B,IAAI,EAAC,OAAO,CAAC,IAAI;gCACjB,KAAK,EAAC,OAAO,CAAC,KAAK;gCACnB,YAAY,EAAC,OAAO,CAAC,YAAY;gCACjC,IAAI,EAAC,OAAO,CAAC,IAAI;gCACjB,OAAO,EAAC,OAAO,CAAC,OAAO;6BACxB,CAAC,CAAC;wBACL,CAAC;wBAAA,IAAI,CAAA,CAAC;4BACJ,KAAK,CAAC,IAAI,CAAC;gCACX,KAAK,EAAC,OAAO,CAAC,KAAK;gCACnB,IAAI,EAAC;oCACH;wCACA,KAAK,EAAC,OAAO,CAAC,KAAK;wCACnB,WAAW,EAAC,OAAO,CAAC,WAAW;wCAC/B,IAAI,EAAC,OAAO,CAAC,IAAI;wCACjB,KAAK,EAAC,OAAO,CAAC,KAAK;wCACnB,YAAY,EAAC,OAAO,CAAC,YAAY;wCACjC,IAAI,EAAC,OAAO,CAAC,IAAI;wCACjB,OAAO,EAAC,OAAO,CAAC,OAAO;qCACtB;iCACF;6BACF,CAAC,CAAC;wBACH,CAAC;oBACH,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,KAAK,GAAC,KAAK,CAAC;gBACjB,KAAI,CAAC,UAAU,GAAC,KAAK,CAAC;YAC1B,CAAC;YAAA,IAAI,CAAA,CAAC;gBACJ,KAAI,CAAC,KAAK,GAAC,IAAI,CAAC;gBAChB,KAAI,CAAC,UAAU,GAAC,KAAK,CAAC;YACxB,CAAC;YACD,KAAI,CAAC,KAAK,GAAC,KAAK,CAAC;QACrB,CAAC,CACJ,CAAC;IACJ,CAAC;IAxED;QAAC,gBAAS,CAAC,SAAS,CAAC;;iEAAA;IACrB;QAAC,YAAK,EAAE;;iEAAA;IACR;QAAC,YAAK,EAAE;;gEAAA;IACR;QAAC,YAAK,EAAE;;gEAAA;IAXV;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAM,MAAM,CAAC,EAAE;YACzB,QAAQ,EAAE,eAAe;YACzB,WAAW,EAAE,+CAA+C;YAC5D,QAAQ,EAAE,OAAO;YACjB,SAAS,EAAC,CAAC,gCAAc,CAAC;SAC3B,CAAC;;oCAAA;IA2EF,mCAAC;AAAD,CA1EA,AA0EC,IAAA;AA1EY,oCAA4B,+BA0ExC,CAAA","file":"episodeDetailDialogComponent.component.js","sourcesContent":["import { Component, ViewChild, Input }  from '@angular/core';\r\nimport { TorrentService }               from './torrent.service';\r\nimport * as _                           from 'lodash';\r\n@Component({\r\n    moduleId    : module.id, \r\n  selector: 'episode-modal',\r\n  templateUrl: './episodeDetailDialogComponent.component.html',\r\n  exportAs: 'child',\r\n  providers:[TorrentService]\r\n})\r\nexport class episodeDetailDialogComponent {\r\n  @ViewChild('lgModal') lgModal;\r\n  @Input() episode;\r\n  @Input() season;\r\n  @Input() TVShow;\r\n  private links;\r\n  private error: boolean;\r\n  private _isLoading: boolean;\r\n  constructor(private torrentService: TorrentService){\r\n    this.error=false;\r\n    this._isLoading=true;\r\n  }\r\n  show(){\r\n    this.lgModal.show();\r\n    this.torrentService.get_Torrents(this.TVShow,this.season.season_number, this.episode.episode_number).subscribe(\r\n        data => {\r\n            let links = [];\r\n            if(data.success){\r\n                _.forEachRight(data.result, (element, index)=>{\r\n                    if(links.length===0){\r\n                      links.push({\r\n                        group:element.group,\r\n                        data:[\r\n                          {\r\n                          title:element.title,\r\n                          description:element.description,\r\n                          href:element.href,\r\n                          group:element.group,\r\n                          info_torrent:element.info_torrent,\r\n                          link:element.link,\r\n                          torrent:element.torrent\r\n                          }\r\n                        ]\r\n                      });\r\n                    }else{\r\n                      let pos = _.findIndex(links, {'group':element.group});\r\n                      if(pos>-1){\r\n                        links[pos].data.push({\r\n                          title:element.title,\r\n                          description:element.description,\r\n                          href:element.href,\r\n                          group:element.group,\r\n                          info_torrent:element.info_torrent,\r\n                          link:element.link,\r\n                          torrent:element.torrent\r\n                        });\r\n                      }else{\r\n                        links.push({\r\n                        group:element.group,\r\n                        data:[\r\n                          {\r\n                          title:element.title,\r\n                          description:element.description,\r\n                          href:element.href,\r\n                          group:element.group,\r\n                          info_torrent:element.info_torrent,\r\n                          link:element.link,\r\n                          torrent:element.torrent\r\n                          }\r\n                        ]\r\n                      });\r\n                      }\r\n                    }\r\n                });\r\n                this.error=false;\r\n                this._isLoading=false;\r\n            }else{\r\n              this.error=true;\r\n              this._isLoading=false;\r\n            }\r\n            this.links=links;\r\n        }\r\n    );\r\n  }\r\n}"]}